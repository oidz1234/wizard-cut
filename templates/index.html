<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text-Based Video Editor</title>
    <link rel="stylesheet" href="/static/styles.css">
    <!-- VideoJS CSS -->
    <link href="https://vjs.zencdn.net/8.3.0/video-js.css" rel="stylesheet" />
    <link rel="stylesheet" href="/static/custom-controls.css">
    <link rel="shortcut icon" href="/static/images/wizard.png" type="image/png">
    <link rel="icon" href="/static/images/wizard.png" type="image/png">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <header>
        <div class="container">
            <div class="logo-container">
                <div class="logo"><img src="/static/images/wizard.png" alt="Logo">Wizard<span>Cut</span></div>
                <div class="tagline">Edit video with text</div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <h1>Text <i>Based</i> Video Editor</h1>
            
            <div id="upload-section">
                <div class="upload-area" id="drop-area">
                    <h3>‚ú® Upload Your Video ‚ú®</h3>
                    <p>Drag and drop a video file here, or summon one with a click</p>
                    <input type="file" id="file-input" accept="video/*" style="display: none;">
                    <button class="btn btn-primary" id="select-file-btn">Select Video File üìπ</button>
                </div>
            </div>
            
            <div id="editor-section" style="display: none;">
                <div class="editor-container">
                    <div class="left-panel">
                        <div class="video-container">
                            <div class="video-tabs">
                                <button id="original-tab" class="video-tab active">Original (High Quality)</button>
                                <button id="preview-tab" class="video-tab" disabled>Preview (Low Quality)</button>
                            </div>
                            <div id="video-wrapper" class="video-wrapper">
                                <video id="video-player" class="video-js vjs-default-skin vjs-big-play-centered" controls preload="auto" width="100%" height="100%">
                                    <p class="vjs-no-js">
                                        To view this video please enable JavaScript, and consider upgrading to a
                                        web browser that supports HTML5 video
                                    </p>
                                </video>
                                <div id="mouse-indicator" class="mouse-indicator"></div>
                            </div>
                            <div id="preview-wrapper" class="video-wrapper" style="display: none;">
                                <div class="preview-label">Preview Mode - Edited Video</div>
                                <video id="preview-player" class="video-js vjs-default-skin vjs-big-play-centered" controls preload="auto" width="100%" height="100%">
                                    <p class="vjs-no-js">
                                        To view this video please enable JavaScript, and consider upgrading to a
                                        web browser that supports HTML5 video
                                    </p>
                                </video>
                                <div id="preview-mouse-indicator" class="mouse-indicator"></div>
                            </div>
                        </div>
                        
                            <div class="zoom-controls">
                                <div class="zoom-buttons">
                                    <button id="zoom-in-btn" class="btn btn-outline-info btn-sm">üîç+</button>
                                    <button id="zoom-reset-btn" class="btn btn-outline-secondary btn-sm">üîçReset</button>
                                    <button id="zoom-out-btn" class="btn btn-outline-info btn-sm">üîç-</button>
                                </div>
                                <div class="zoom-record-controls">
                                    <button id="record-zoom-btn" class="btn btn-outline-primary btn-sm"><i class="fas fa-video"></i> Record Zoom</button>
                                    <span id="zoom-record-status" class="status-badge"></span>
                                </div>
                                <div class="custom-player-controls">
                                    <button id="custom-play-btn" class="btn btn-primary btn-sm"><i class="fas fa-play"></i></button>
                                    <button id="custom-pause-btn" class="btn btn-secondary btn-sm"><i class="fas fa-pause"></i></button>
                                </div>
                            </div>
                        
                        <div id="zoom-timeline" class="zoom-timeline">
                            <div class="timeline-scale"></div>
                            <div id="zoom-events-container" class="zoom-events-container"></div>
                            <div id="timeline-cursor" class="timeline-cursor"></div>
                        </div>
                        
                        <div class="controls">
                            <button id="select-btn" class="btn btn-outline-primary">ü™Ñ Select Text</button>
                            <button id="clear-btn" class="btn btn-outline-secondary">üßπ Clear Selections</button>
                            <button id="preview-btn" class="btn btn-info">üëÅÔ∏è Preview Cuts</button>
                            <div class="auto-preview-toggle">
                                <label for="auto-preview-toggle" class="form-check-label">
                                    <input type="checkbox" id="auto-preview-toggle" class="form-check-input">
                                    Auto-Preview
                                </label>
                            </div>
                            <button id="download-btn" class="btn btn-success">‚úÇÔ∏è Create & Download Edited Video</button>
                            <button id="cleanup-btn" class="btn btn-danger d-none">üóëÔ∏è Clear Server Data</button>
                        </div>
                        
                        <div class="keyboard-shortcuts">
                            <p><span class="shortcut-key">X</span> - Press to mark selected text for deletion</p>
                            <p><span class="shortcut-key">Z</span> - Cycle zoom modes (drag/click/none)</p>
                            <p><span class="shortcut-key">R</span> - Start/stop recording zoom events</p>
                        </div>
                        
                        <div id="selections-list" class="d-none">
                            <h5>Selected Segments</h5>
                            <div id="selections-container"></div>
                        </div>
                        
                        <div id="zoom-events-list" class="d-none">
                            <h5>Zoom Events</h5>
                            <div id="zoom-events-editor"></div>
                        </div>
                    </div>
                    
                    <div class="right-panel">
                        <div class="transcript-container" id="transcript-container">
                            <div id="transcript-content"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>Crafted with a bit of magic ‚ú® by the team at <a href="https://SWMGLabs.com">SWMG Labs</a></p>
        </div>
    </footer>
    
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="wizard-spinner">üîÆ</div>
        <div id="loading-message">Transforming your video with wizardry...</div>
        <div class="progress">
            <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
        </div>
    </div>
    
    <!-- Preview Status Indicator -->
    <div id="preview-status" class="preview-status hidden">
        <div class="preview-status-spinner"></div>
        <span id="preview-status-text">Generating preview...</span>
    </div>
    
    <!-- Custom Context Menu -->
    <div id="custom-context-menu" class="custom-context-menu" style="display: none;">
        <div class="context-menu-item" id="context-menu-cut">Mark for Cutting</div>
    </div>

    <!-- External JavaScript files -->
    <script src="https://vjs.zencdn.net/8.3.0/video.min.js"></script>
    <script src="/static/video-js-integration.js"></script>
    <script src="/static/scripts.js"></script>
</body>
</html>
